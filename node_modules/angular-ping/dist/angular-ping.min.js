/*! angular-ping 28-04-2014 */
!function(){angular.module("angular.ping",[]).factory("netTesting",["$window","$timeout",function(a,b){function c(){var a,c=Array.prototype.slice.apply(arguments),e=c[0],f=c[1],g=this;if(angular.isUndefined(d[e])&&(d[e]={processing:!0}),a=d[e],"string"!=typeof e)throw new Error("please input a validate ip or domain name;");a.callback=f;var h=a.img=new Image;h.onload=function(){a.processing=!1,f.call(g,e,"connected")},h.onerror=function(){a.processing&&(a.processing=!1,f.call(g,e,"connected"))},h.src="http://"+e+"?"+(new Date).getTime(),b(function(){a.processing&&(a.processing=!1,f.call(g,e,"disconnected"))},500)}var d={};return{ping:c}}])}(window,document);